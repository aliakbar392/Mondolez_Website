<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MadForCad - Business Dashboard</title>
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <!-- Chart.js for dashboard charts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* Light gray background */
        }
        .font-serif {
            font-family: 'Playfair Display', serif;
        }
        .bg-dark-chocolate { background-color: #3D2B1F; }
        .text-dark-chocolate { color: #3D2B1F; }
        /* Animation for the map highlight */
        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
                opacity: 0.7;
            }
            50% {
                transform: scale(1.5);
                opacity: 0.2;
            }
        }
        .pulse-animate {
            animation: pulse 2s infinite;
        }
    </style>
</head>
<body class="text-gray-800">

    <!-- Header Section -->
    <header class="bg-dark-chocolate text-white py-4 shadow-lg">
        <div class="container mx-auto text-center px-4">
            <h1 class="font-serif text-2xl md:text-3xl tracking-wider">MadForCad Business Dashboard</h1>
            <p class="text-sm opacity-80">(Internal Analytics Mock-Up)</p>
        </div>
    </header>

    <!-- Main Dashboard Content -->
    <main class="container mx-auto p-4 md:p-8 max-w-7xl">
        
        <!-- Dashboard Section -->
        <section class="bg-white p-4 md:p-6 rounded-lg shadow-xl border border-gray-200">
            <div class="flex flex-col md:flex-row justify-between items-center mb-2">
                 <h3 class="font-serif text-2xl md:text-3xl text-center">Analytics Dashboard</h3>
                 <div class="mt-4 md:mt-0">
                     <label for="scenario-select" class="text-sm font-semibold">Select Scenario:</label>
                     <select id="scenario-select" class="p-2 border rounded-md text-sm">
                         <option value="normal" selected>Normal Operations</option>
                         <option value="festive">Festive Season Surge</option>
                         <option value="disruption">Supply Chain Disruption</option>
                     </select>
                 </div>
            </div>
            <div class="bg-yellow-400 h-1 w-24 mx-auto mb-8"></div>

            <!-- KPI Cards -->
            <div class="grid grid-cols-2 lg:grid-cols-4 gap-4 text-center text-dark-chocolate">
                <div class="bg-purple-100 p-3 rounded-lg shadow">
                    <p id="kpi-inventory-units" class="font-bold text-2xl md:text-3xl">311</p>
                    <p id="kpi-inventory-units-delta" class="text-sm font-semibold"><span class="font-bold text-green-600">▲ 18.7%</span> vs PM</p>
                    <p class="text-xs text-gray-600 mt-1">(Inventory Units)</p>
                </div>
                <div class="bg-red-100 p-3 rounded-lg shadow">
                    <p id="kpi-inventory-value" class="font-bold text-2xl md:text-3xl">21.6 L</p>
                    <p id="kpi-inventory-value-delta" class="text-sm font-semibold"><span class="font-bold text-green-600">▲ 6.8%</span> vs PM</p>
                    <p class="text-xs text-gray-600 mt-1">(Inventory Value)</p>
                </div>
                <div class="bg-blue-100 p-3 rounded-lg shadow">
                    <p id="kpi-service-level" class="font-bold text-2xl md:text-3xl">91.2%</p>
                    <p id="kpi-service-level-delta" class="text-sm font-semibold"><span class="font-bold text-red-600">▼ 1.9%</span> vs PM</p>
                    <p class="text-xs text-gray-600 mt-1">(Service Level)</p>
                </div>
                <div class="bg-green-100 p-3 rounded-lg shadow">
                    <p id="kpi-sales-value" class="font-bold text-2xl md:text-3xl">86.5 L</p>
                    <p id="kpi-sales-value-delta" class="text-sm font-semibold"><span class="font-bold text-green-600">▲ 5.2%</span> vs PM</p>
                    <p class="text-xs text-gray-600 mt-1">(Sales Value)</p>
                </div>
            </div>

            <!-- Plant Level Summaries -->
            <div class="mt-8 pt-6 border-t-2 border-yellow-400">
                <h4 class="font-serif text-xl text-center mb-6">Plant Level Summaries</h4>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- Map & Filters -->
                    <div class="border p-4 rounded-lg shadow-inner bg-gray-50">
                        <p class="text-sm font-bold mb-4">MadForCad Supply Chain Network in India</p>
                         <div class="relative">
                            <!-- India Map SVG -->
                            <svg class="w-full h-auto" viewBox="0 0 550 600" xmlns="http://www.w3.org/2000/svg">
                                <path d="M428.16,211.51,417.83,195.4a4.11,4.11,0,0,0-6.09-.4L320.4,250.38l-4.7-20.14-11.52-2.31-2.12-11.14.71-18.23,4.24-21.23,10.26-17.15,9.55-2.83,16-16.7L360.27,125l9.19-22.3-1.41-11.32-15.63-22.49-27.42-32-42.06-25.1-34.11-2.83-29.35,8.85-21,11.32-21.18,21.57-13.26,20.44-3.54,12.74-12,3.19-14.86,13.81-22.28-2.12-23-14.15-13.81-12.74-2.83-23.73-10.26-15.22-12.38-2.83-19.1-15.63-7.78-9.91-17.34-1-20.14-1.77L50.2,168.12l-1.77,15.63-10.26,16.7-1.41,12.74-5.66,13.81,2.83,12.38,12,18.78,16.34,31.25,2.48,15.22,14.51,33,12.74,13.44,18.06,12.38,15.22,23.37,25.49,43.48,10.62,11.32,18.78,20.14,13.44,18.78,13.81,11.68,16,13.81,23,16,20.89,6.73,19.47-2.12,15.22-10.62,21.57-19.82,23.37-2.83,10.26,1.41,14.51,13.44,21.23,19.1,13.81,25.49,1.41,20.51-14.86,28.65-17.68,15.63-22.66,10.62-11.68,16.7-2.83,23.37,13.08,31.62,13.44,16.7,1.41,19.47-16.7,11.32-16.34,1.41-13.81-10.26-21.57-7.43-16.7,1.77-19.1,12-16.34,16.7-22.66,28.32-25.49,18.41-16,15.22-18.78,7.43-14.15Z" fill="#e2e8f0" stroke="#94a3b8" stroke-width="1.5"></path>
                            </svg>
                            <!-- Static Map Points -->
                            <div class="absolute w-3 h-3 bg-blue-600 rounded-full ring-2 ring-white" style="top: 48%; left: 38%;" title="Mumbai (Manufacturing)"></div>
                            <div class="absolute w-3 h-3 bg-red-600 rounded-full ring-2 ring-white" style="top: 78%; left: 48%;" title="Chennai (Warehouse)"></div>
                            <div class="absolute w-3 h-3 bg-green-600 rounded-full ring-2 ring-white" style="top: 80%; left: 35%;" title="Kerala (RDC)"></div>
                            <!-- Dynamic Highlight -->
                            <div id="map-highlight" class="absolute w-5 h-5 border-4 border-blue-600 bg-white rounded-full transition-all duration-500" style="top: 50%; left: 42%;">
                                <div class="absolute inset-0 rounded-full bg-blue-500 pulse-animate"></div>
                            </div>
                        </div>
                        <div class="flex flex-wrap justify-between mt-4 text-xs">
                             <div class="flex items-center"><div class="w-2 h-2 bg-blue-600 rounded-full mr-1.5"></div>Manufacturing</div>
                             <div class="flex items-center"><div class="w-2 h-2 bg-red-600 rounded-full mr-1.5"></div>Warehouse</div>
                             <div class="flex items-center"><div class="w-2 h-2 bg-green-600 rounded-full mr-1.5"></div>RDC</div>
                        </div>
                        <div class="mt-4 grid grid-cols-2 gap-2">
                            <select id="location-select" class="w-full p-2 border rounded-md text-sm">
                                <option value="pune" selected>Pune</option>
                                <option value="chennai">Chennai</option>
                            </select>
                            <select class="w-full p-2 border rounded-md text-sm"><option>Select: Category</option><option>Premium</option><option>Gifting</option></select>
                        </div>
                    </div>
                     <!-- Details & Charts -->
                    <div class="space-y-4">
                        <div class="border p-4 rounded-lg shadow-inner bg-gray-50">
                            <p id="plant-name" class="font-bold text-lg">Pune, Maharashtra</p>
                            <div class="space-y-1.5 mt-2">
                                <div class="flex justify-between items-center bg-blue-50 p-2 rounded"><span>Current Stock (FG)</span><span id="stock-fg" class="font-bold text-lg">2.1k</span></div>
                                <div class="flex justify-between items-center bg-blue-50 p-2 rounded"><span>Current Stock (RM)</span><span id="stock-rm" class="font-bold text-lg">8.9k</span></div>
                                <div class="flex justify-between items-center bg-green-50 p-2 rounded"><span>Demand from App</span><span id="demand-app" class="font-bold text-lg">3.4k</span></div>
                                <div class="flex justify-between items-center bg-orange-50 p-2 rounded"><span>Capacity Utilization</span><span id="capacity" class="font-bold text-lg text-red-600">101%</span></div>
                                <div class="flex justify-between items-center bg-blue-50 p-2 rounded"><span>Inventory Turnover</span><span id="turnover" class="font-bold text-lg">4.2</span></div>
                            </div>
                        </div>
                        <div class="border p-4 rounded-lg text-sm shadow-inner bg-gray-50">
                            <div class="flex justify-end space-x-4 mb-2 text-xs">
                                <div class="flex items-center"><div class="w-3 h-3 bg-gray-400 mr-1"></div>Affordable</div>
                                <div class="flex items-center"><div class="w-3 h-3 bg-orange-500 mr-1"></div>Premium</div>
                                <div class="flex items-center"><div class="w-3 h-3 bg-blue-500 mr-1"></div>Gifting</div>
                            </div>
                            <div class="space-y-3">
                                <p class="font-semibold -mb-2 text-xs text-gray-600">Traditional</p>
                                <div id="bar-traditional" class="w-full bg-gray-200 rounded-full h-5 flex text-white text-xs items-center font-semibold"></div>
                                <p class="font-semibold -mb-2 text-xs text-gray-600">E-Commerce</p>
                                <div id="bar-ecommerce" class="w-full bg-gray-200 rounded-full h-5 flex text-white text-xs items-center font-semibold"></div>
                                <p class="font-semibold -mb-2 text-xs text-gray-600">Q-Commerce</p>
                                <div id="bar-qcommerce" class="w-full bg-gray-200 rounded-full h-5 flex text-white text-xs items-center font-semibold"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Demand Forecasting -->
            <div class="mt-8 pt-6 border-t-2 border-yellow-400">
                <h4 class="font-serif text-xl text-center mb-6">Demand Forecasting Using Advanced Analytics</h4>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 items-center">
                    <div class="border p-4 rounded-lg shadow-inner bg-gray-50">
                        <canvas id="demandChart"></canvas>
                    </div>
                    <div class="bg-green-50 border-l-4 border-green-500 p-4 rounded-r-lg h-full">
                        <h5 class="font-bold text-lg text-green-800">Recommendations</h5>
                        <p class="text-sm mt-2">Combining App & Demand Forecast data to give curated insights:</p>
                        <ul id="recommendations-list" class="list-decimal list-inside text-sm mt-3 space-y-2">
                            <li>The forecast predicts a <strong>20% surge in demand</strong> for this category in major metro areas over the next 14 days, driven by q-commerce velocity.</li>
                             <li>Consider increasing stock levels at Chennai warehouse by <strong>15%</strong> to meet projected demand and maintain service levels.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer Section -->
    <footer class="bg-dark-chocolate text-white text-center p-6 mt-8">
        <p>&copy; 2025 MadForCad. All Rights Reserved.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {

            // --- Main Data Store for all scenarios and locations ---
            const dashboardData = {
                normal: {
                    kpis: {
                        inventoryUnits: { value: "311", delta: "▲ 18.7%", color: "text-green-600" },
                        inventoryValue: { value: "21.6 L", delta: "▲ 6.8%", color: "text-green-600" },
                        serviceLevel: { value: "91.2%", delta: "▼ 1.9%", color: "text-red-600" },
                        salesValue: { value: "86.5 L", delta: "▲ 5.2%", color: "text-green-600" }
                    },
                    chartData: { actual: [180, 210, 190, null], estimated: [190, 200, 230, 220] },
                    recommendations: [
                        "The forecast predicts a <strong>20% surge in demand</strong> for this category in major metro areas over the next 14 days, driven by q-commerce velocity.",
                        "Consider increasing stock levels at Chennai warehouse by <strong>15%</strong> to meet projected demand and maintain service levels."
                    ],
                    locations: {
                        pune: { name: "Pune, Maharashtra", stockFG: "2.1k", stockRM: "8.9k", demand: "3.4k", capacity: "101%", capacityColor: "text-red-600", turnover: "4.2", sales: { traditional: [76, 15, 9], ecommerce: [73, 15, 12], qcommerce: [72, 15, 13] }, coords: { top: '50%', left: '42%' }, highlightColor: 'border-blue-600', pulseColor: 'bg-blue-500' },
                        chennai: { name: "Chennai, Tamil Nadu", stockFG: "1.8k", stockRM: "7.2k", demand: "2.9k", capacity: "95%", capacityColor: "text-green-600", turnover: "3.8", sales: { traditional: [60, 25, 15], ecommerce: [55, 25, 20], qcommerce: [50, 28, 22] }, coords: { top: '78%', left: '48%' }, highlightColor: 'border-red-600', pulseColor: 'bg-red-500' }
                    }
                },
                festive: {
                    kpis: {
                        inventoryUnits: { value: "450", delta: "▲ 35.1%", color: "text-green-600" },
                        inventoryValue: { value: "31.2 L", delta: "▲ 28.4%", color: "text-green-600" },
                        serviceLevel: { value: "95.8%", delta: "▲ 2.1%", color: "text-green-600" },
                        salesValue: { value: "120.1 L", delta: "▲ 45.3%", color: "text-green-600" }
                    },
                    chartData: { actual: [220, 250, 280, null], estimated: [230, 260, 290, 310] },
                     recommendations: [
                        "Festive demand is tracking <strong>5% above forecast</strong>. Expedite replenishment for Gifting SKUs.",
                        "Pune capacity is at <strong>115%</strong>. Consider diverting production of Affordable SKUs to Mumbai to prioritize Premium and Gifting categories."
                    ],
                    locations: {
                        pune: { name: "Pune, Maharashtra", stockFG: "3.5k", stockRM: "10.1k", demand: "5.8k", capacity: "115%", capacityColor: "text-red-600", turnover: "5.5", sales: { traditional: [40, 30, 30], ecommerce: [35, 30, 35], qcommerce: [30, 35, 35] }, coords: { top: '50%', left: '42%' }, highlightColor: 'border-blue-600', pulseColor: 'bg-blue-500' },
                        chennai: { name: "Chennai, Tamil Nadu", stockFG: "2.9k", stockRM: "9.5k", demand: "4.5k", capacity: "105%", capacityColor: "text-red-600", turnover: "4.9", sales: { traditional: [35, 35, 30], ecommerce: [30, 35, 35], qcommerce: [25, 40, 35] }, coords: { top: '78%', left: '48%' }, highlightColor: 'border-red-600', pulseColor: 'bg-red-500' }
                    }
                },
                disruption: {
                    kpis: {
                        inventoryUnits: { value: "250", delta: "▼ 10.2%", color: "text-red-600" },
                        inventoryValue: { value: "18.1 L", delta: "▼ 15.8%", color: "text-red-600" },
                        serviceLevel: { value: "75.4%", delta: "▼ 15.3%", color: "text-red-600" },
                        salesValue: { value: "70.2 L", delta: "▼ 12.1%", color: "text-red-600" }
                    },
                    chartData: { actual: [180, 150, 130, null], estimated: [190, 200, 230, 220] },
                    recommendations: [
                        "A logistics delay has impacted RM supply to Pune, causing a <strong>critical drop in service levels</strong>.",
                        "Prioritize available stock for Q-Commerce to protect high-margin channels. Re-route next RM shipment via an alternate carrier."
                    ],
                    locations: {
                        pune: { name: "Pune, Maharashtra", stockFG: "1.1k", stockRM: "3.2k", demand: "3.1k", capacity: "70%", capacityColor: "text-orange-500", turnover: "2.1", sales: { traditional: [80, 12, 8], ecommerce: [78, 12, 10], qcommerce: [75, 15, 10] }, coords: { top: '50%', left: '42%' }, highlightColor: 'border-blue-600', pulseColor: 'bg-blue-500' },
                        chennai: { name: "Chennai, Tamil Nadu", stockFG: "1.9k", stockRM: "8.1k", demand: "3.0k", capacity: "98%", capacityColor: "text-green-600", turnover: "3.9", sales: { traditional: [65, 20, 15], ecommerce: [60, 22, 18], qcommerce: [55, 25, 20] }, coords: { top: '78%', left: '48%' }, highlightColor: 'border-red-600', pulseColor: 'bg-red-500' }
                    }
                }
            };
            
            // --- DOM Element References ---
            const scenarioSelect = document.getElementById('scenario-select');
            const locationSelect = document.getElementById('location-select');

            // --- Main update function ---
            function updateDashboard() {
                const currentScenario = scenarioSelect.value;
                const currentLocation = locationSelect.value;
                const scenarioData = dashboardData[currentScenario];
                const locationData = scenarioData.locations[currentLocation];
                if (!scenarioData || !locationData) return;
                
                // Update KPIs
                Object.keys(scenarioData.kpis).forEach(key => {
                    const kpi = scenarioData.kpis[key];
                    const elementId = `kpi-${key.replace(/([A-Z])/g, "-$1").toLowerCase()}`;
                    document.getElementById(elementId).textContent = kpi.value;
                    const deltaElement = document.getElementById(`${elementId}-delta`);
                    deltaElement.innerHTML = `<span class="font-bold ${kpi.color}">${kpi.delta}</span> vs PM`;
                });

                // Update Plant Details
                document.getElementById('plant-name').textContent = locationData.name;
                document.getElementById('stock-fg').textContent = locationData.stockFG;
                document.getElementById('stock-rm').textContent = locationData.stockRM;
                document.getElementById('demand-app').textContent = locationData.demand;
                const capacityEl = document.getElementById('capacity');
                capacityEl.textContent = locationData.capacity;
                capacityEl.className = `font-bold text-lg ${locationData.capacityColor}`;
                document.getElementById('turnover').textContent = locationData.turnover;

                // Update Bar Charts
                const updateBar = (el, d) => {
                    el.innerHTML = `<div class="bg-gray-400 h-5 rounded-l-full f a jc" style="width:${d[0]}%">${d[0]}</div><div class="bg-orange-500 h-5 f a jc" style="width:${d[1]}%">${d[1]}</div><div class="bg-blue-500 h-5 rounded-r-full f a jc" style="width:${d[2]}%">${d[2]}</div>`;
                };
                updateBar(document.getElementById('bar-traditional'), locationData.sales.traditional);
                updateBar(document.getElementById('bar-ecommerce'), locationData.sales.ecommerce);
                updateBar(document.getElementById('bar-qcommerce'), locationData.sales.qcommerce);

                // Update Map Highlight
                const mapHighlight = document.getElementById('map-highlight');
                mapHighlight.style.top = locationData.coords.top;
                mapHighlight.style.left = locationData.coords.left;
                mapHighlight.className = `absolute w-5 h-5 bg-white rounded-full transition-all duration-500 ${locationData.highlightColor}`;
                mapHighlight.querySelector('div').className = `absolute inset-0 rounded-full pulse-animate ${locationData.pulseColor}`;
                
                // Update Chart
                demandChart.data.datasets[0].data = scenarioData.chartData.actual;
                demandChart.data.datasets[1].data = scenarioData.chartData.estimated;
                demandChart.update();

                // Update Recommendations
                const recommendationsList = document.getElementById('recommendations-list');
                recommendationsList.innerHTML = scenarioData.recommendations.map(rec => `<li>${rec}</li>`).join('');
            }

            // --- Chart.js Setup ---
            const ctx = document.getElementById('demandChart').getContext('2d');
            const demandChart = new Chart(ctx, { type: 'line', data: { labels: ['Jan-25', 'Feb-25', 'Mar-25', 'Apr-25'], datasets: [ { label: 'Actual', borderColor: '#2563eb', backgroundColor: '#2563eb', tension: 0.1, pointRadius: 5, pointStyle: 'rectRot' }, { label: 'Estimated', borderColor: '#16a34a', backgroundColor: 'transparent', borderDash: [5, 5], tension: 0.1, pointRadius: 5 } ] }, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'top' }, title: { display: true, text: 'Units Sold (in thousands)' } }, scales: { y: { beginAtZero: false } } } });

            // --- Event Listeners ---
            scenarioSelect.addEventListener('change', updateDashboard);
            locationSelect.addEventListener('change', updateDashboard);

            // --- Initial Load ---
            updateDashboard();
        });
    </script>
</body>
</html>

